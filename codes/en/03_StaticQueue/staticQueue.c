//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

#include "staticQueue.h"

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

void initStaticQueue(StaticQueue *queue) {
  queue->start = 0;
  queue->end = -1;
  queue->size = 0;
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

int increaseIndex(int i) {
  int newValue = (i+1) % MAXTAM;
  return newValue;
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

int sizeOfStaticQueue(StaticQueue *queue) {
  return (queue->size);
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

bool isEmptyStaticQueue(StaticQueue *queue) {
  return(queue->size == 0);
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

bool isFullStaticQueue(StaticQueue *queue) {
  return(queue->size == MAXTAM);
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

void enqueueStaticQueue(StaticQueue *queue, int x) {
  if(!isFullStaticQueue(queue)) {
    queue->end = increaseIndex(queue->end);
    queue->array[queue->end] = x;
    queue->size++;
  }
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

int firstStaticQueue(StaticQueue *queue) {
  return(queue->array[queue->start]);
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

int lastStaticQueue(StaticQueue *queue) {
  return(queue->array[queue->end]);
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

int dequeueStaticQueue(StaticQueue *queue) {
  int ret = -9999;
  if(!isEmptyStaticQueue(queue)){
    ret = queue->array[queue->start];
    queue->start = increaseIndex(queue->start);
    queue->size--;
  }
  return(ret);
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------

void printStaticQueue(StaticQueue *queue) {
  printf("Queue = {");
  int n = sizeOfStaticQueue(queue);
  for(int i = 0; i < n; i++) {
    int index = (queue->start + i) % MAXTAM;
    printf("%d ", queue->array[index]);
  }
  printf("}\n");
}

//---------------------------------------------------------------------------------
//---------------------------------------------------------------------------------
